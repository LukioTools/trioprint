<!DOCTYPE html><html lang="en"><head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <style>:root{--bg-entry-dark:#151d2b;--bg-entry-light:#1f2333;--bg-entry-selected:#053846;--bg-entry-hover:#133548;--bg-bar:#182030;--fg-normal:#d1dae3;--fg-dir:#3dade8;--border-normal:#474f5d;}*{min-width:0;}html{max-height:100vh;max-width:100vw;border-color:var(--border-normal);color:var(--fg-normal);}body{margin:0px;padding:0px;width:100vw;height:100vh;max-height:100vh;background-color:var(--bg-bar)}.directory-setting-seperator{display:flex;height:80%;}.bar{background-color:var(--bg-bar);}.status-bar{height:calc(20%-1px);border-width:0px0px1px0px;border-style:solid;border-color:var(--border-normal);}.settings-bar{height:100%;width:calc(20%-1px);border-width:0px0px0px1px;border-style:solid;border-color:var(--border-normal);}.dir-view{height:100%;width:80%;max-height:100%;}.dirent{width:100%;height:2em;display:flex;flex-flow:row;align-items:center;}.dir-files{width:100%;height:calc(100%-2em);overflow:scroll;overflow-x:hidden;background-color:var(--bg-bar);}.dirent:nth-child(even){background-color:var(--bg-entry-dark);}.dirent:nth-child(odd){background-color:var(--bg-entry-light);}.dirent:hover{background-color:var(--bg-entry-hover)!important;}.dir-selected-file{background-color:var(--bg-entry-selected);}.dirent-item{display:flex;flex-direction:row;align-items:center;height:100%;}.dirent-item:hover{cursor:pointer;}.dirent-item:first-child{width:100%;overflow-x:auto;overflow-y:hidden;white-space:nowrap;padding-left:0em;transition:padding-left2s;transition-timing-function:cubic-bezier(0,1.23,0,.92);}.dirent-item:first-child:hover{padding-left:1em;transition:padding-left2s;transition-timing-function:cubic-bezier(0,1.23,0,.92);}.dirent-item:last-child{margin-right:1em;}.dirent-item:nth-child(n+0){margin-left:1em;}.dirent-image{min-width:2em;height:100%;transition:transform0.3s;transition-timing-function:cubic-bezier(1,.82,0,1.3);}.dirent-image:hover{transform:rotate(35deg);transition:transform0.3s;transition-timing-function:cubic-bezier(1,.82,0,1.3);}.dirent-dir{color:var(--fg-dir);}.dir-pwd{border-radius:0px;height:calc(2em-1px);background-color:var(--bg-bar)!important;border-color:var(--border-normal);border-width:0px0px1px0px;border-style:solid;display:flex;align-items:center;}</style> <title>Interface</title> <script> function clipboard(el){ navigator.clipboard.writeText(el.innerText).then(function() { console.log('Async: Copying to clipboard was successful!'); }, function(err) { console.error('Async: Could not copy text: ', err); }); } function file_on_click(el){ if(el.getAttribute("isDirectory") == "true"){ let oldcwd = cwd; cwd += el.innerText; files() .catch((err) => { console.error("error changing directory to: ", cwd); console.log("reverting back to: ", oldcwd); cwd = oldcwd; }); } else return clipboard(el); } let cwd = "/"; const dirent_item = "dirent-item "; function create_file_element(filename){ dirent = document.createElement("div"); dirent.setAttribute("class", "dirent"); { let el = document.createElement("div"); let classes = dirent_item; let isDirectory = (filename[filename.length-1] == '/'); if (isDirectory) classes+="dirent-dir "; el.setAttribute("isDirectory", isDirectory); el.setAttribute("class", classes); el.appendChild(document.createTextNode(filename)); dirent.appendChild(el); } { let classes = dirent_item + "dirent-image "; { let el = document.createElement("div"); el.setAttribute("class", classes); el.appendChild(document.createTextNode("DW")); dirent.appendChild(el); } { let el = document.createElement("div"); el.setAttribute("class", classes); el.appendChild(document.createTextNode("PR")); dirent.appendChild(el); } { let el = document.createElement("div"); el.setAttribute("class", classes); el.appendChild(document.createTextNode("RM")); dirent.appendChild(el); } } return dirent; } const rotate_rps=0.5; const rotate_ups=20; function rotate_file_load_icon(){ let fsi_el = document.getElementById("file-sync-icon"); let angle = 25; let increment = (360*rotate_rps)/rotate_ups; return setInterval(()=>{ fsi_el.setAttribute("style", `transform: rotate(${angle}deg);`); angle+=increment; }, 1000/20) } function stop_file_load_icon(interval_id){ let fsi_el = document.getElementById("file-sync-icon"); fsi_el.setAttribute("style", ''); clearInterval(interval_id); } function files(){ return new Promise((resolve, reject) => { let interval_id = rotate_file_load_icon(); fetch("/fm/ls/", { method: "POST", body: cwd }) .then(JSON.parse) .then(js => { let files = []; let df = document.getElementById("Directory Files"); js.forEach(element => { files.push(create_file_element(element)); }); stop_file_load_icon(interval_id); df.replaceChildren(files); resolve(); }) .catch(err => { console.error(err); stop_file_load_icon(interval_id); reject(err); }); }) } function status(){ } </script></head><body> <div id="Status Bar" class="bar status-bar">Status Bar</div> <div class="directory-setting-seperator"> <div id="Directory View" class="dir-view"> <div id="Current Directory" class="dir-pwd dirent"><div class="dirent-item">Current Directory </div><div id="file-sync-icon" class="dirent-item dirent-image" onclick="files()">RF</div> </div> <div id="Directory Files" class="dir-files"> <div class="dirent"> <div class="dirent-item dirent-dir" isDirectory="true" onclick="file_on_click(this)">directory/</div> <div class="dirent-item dirent-image">DW</div> <div class="dirent-item dirent-image">PR</div> <div class="dirent-item dirent-image">RM</div> </div> <div class="dirent"> <div class="dirent-item" onclick="file_on_click(this)">filename</div> <div class="dirent-item dirent-image">DW</div> <div class="dirent-item dirent-image">PR</div> <div class="dirent-item dirent-image">RM</div> </div> <div class="dirent"> <div class="dirent-item" onclick="file_on_click(this)">filename</div> <div class="dirent-item dirent-image">DW</div> <div class="dirent-item dirent-image">PR</div> <div class="dirent-item dirent-image">RM</div> </div> </div> </div> <div id="Settings Column" class="bar settings-bar" >Settings Column</div> </div></body></html>